<div class="col-12 md:col-12">
    <div class="card">
        <h5>Course Recommendation</h5>
        <p-tabView orientation="left">
            <p-tabPanel header="Level 3" class="line-height-3 m-0">
                <div class="card">
                    <h5>Level 3</h5>
                    <p-carousel [value]="level3" [numVisible]="3" [numScroll]="3" [circular]="false"
                        [responsiveOptions]="carouselResponsiveOptions">
                        <ng-template let-level pTemplate="item">
                            <div class="border-round m-2 text-center p-2" style="border: 1px solid var(--surface-d)">

                                <div>
                                    <h5 class="mb-1">{{level.course_name}}</h5>
                                    <h6 class="mt-0 mb-3">{{level.course_code}}</h6>
                                    <!-- <span [class]="'product-badge status-'+product.inventoryStatus.toLowerCase()">{{product.inventoryStatus}}</span> -->
                                    <div class="my-5">
                                        <button pButton pRipple icon="pi pi-search"
                                            class="mr-2 p-button-rounded"></button>
                                        <button pButton pRipple icon="pi pi-star-fill"
                                            class="mr-2 p-button-rounded p-button-success"
                                            (click)="initCharts(level)"></button>
                                        <button pButton pRipple icon="pi pi-cog"
                                            class="p-button-rounded p-button-info"></button>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </p-carousel>
                </div>
            </p-tabPanel>
            <p-tabPanel header="Level 4 " class="line-height-3 m-0">
                <div class="card">
                    <h5>Level 4</h5>
                    <p-carousel [value]="level4" [numVisible]="3" [numScroll]="3" [circular]="false"
                        [responsiveOptions]="carouselResponsiveOptions">
                        <ng-template let-level pTemplate="item">
                            <div class="border-round m-2 text-center p-2" style="border: 1px solid var(--surface-d)">

                                <div>
                                    <h5 class="mb-1">{{level.course_name}}</h5>
                                    <h6 class="mt-0 mb-3">{{level.course_code}}</h6>
                                    <!-- <span [class]="'product-badge status-'+product.inventoryStatus.toLowerCase()">{{product.inventoryStatus}}</span> -->
                                    <div class="my-5">
                                        <button pButton pRipple icon="pi pi-search"
                                            class="mr-2 p-button-rounded"></button>
                                        <button pButton pRipple icon="pi pi-star-fill"
                                            class="mr-2 p-button-rounded p-button-success"
                                            (click)="initCharts(level)"></button>
                                        <button pButton pRipple icon="pi pi-cog"
                                            class="p-button-rounded p-button-info"></button>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </p-carousel>
                </div>
            </p-tabPanel>
            <p-tabPanel header="level 5" class="line-height-3 m-0">
                <div class="card">
                    <h5>Level 5</h5>
                    <p-carousel [value]="level5" [numVisible]="3" [numScroll]="3" [circular]="false"
                        [responsiveOptions]="carouselResponsiveOptions">
                        <ng-template let-level pTemplate="item">
                            <div class="border-round m-2 text-center p-2" style="border: 1px solid var(--surface-d)">

                                <div>
                                    <h5 class="mb-1">{{level.course_name}}</h5>
                                    <h6 class="mt-0 mb-3">{{level.course_code}}</h6>
                                    <!-- <span [class]="'product-badge status-'+product.inventoryStatus.toLowerCase()">{{product.inventoryStatus}}</span> -->
                                    <div class="my-5">
                                        <button pButton pRipple icon="pi pi-search"
                                            class="mr-2 p-button-rounded"></button>
                                        <button pButton pRipple icon="pi pi-star-fill"
                                            class="mr-2 p-button-rounded p-button-success"
                                            (click)="initCharts(level)"></button>
                                        <button pButton pRipple icon="pi pi-cog"
                                            class="p-button-rounded p-button-info"></button>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </p-carousel>
                </div>
            </p-tabPanel>
            <p-tabPanel header="level 6" class="line-height-3 m-0">
                <div class="card">
                    <h5>Level 6</h5>
                    <p-carousel [value]="level6" [numVisible]="3" [numScroll]="3" [circular]="false"
                        [responsiveOptions]="carouselResponsiveOptions">
                        <ng-template let-level pTemplate="item">
                            <div class="border-round m-2 text-center p-2" style="border: 1px solid var(--surface-d)">

                                <div>
                                    <h5 class="mb-1">{{level.course_name}}</h5>
                                    <h6 class="mt-0 mb-3">{{level.course_code}}</h6>
                                    <!-- <span [class]="'product-badge status-'+product.inventoryStatus.toLowerCase()">{{product.inventoryStatus}}</span> -->
                                    <div class="my-5">
                                        <button pButton pRipple icon="pi pi-search"
                                            class="mr-2 p-button-rounded"></button>
                                        <button pButton pRipple icon="pi pi-star-fill"
                                            class="mr-2 p-button-rounded p-button-success"></button>
                                        <button pButton pRipple icon="pi pi-cog"
                                            class="p-button-rounded p-button-info"></button>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </p-carousel>
                </div>
            </p-tabPanel>
        </p-tabView>
    </div>
</div>

<div class="grid p-fluid" *ngIf="loadCharts">
    <div class="col-12 lg:col-6">
        <div class="card flex flex-column align-items-center">
            <h5 class="text-left w-full">Doughnut Chart</h5>
            <p-chart type="doughnut" [data]="pieData" [options]="pieOptions"></p-chart>
        </div>

        <div class="card">
            <h5>Total Overview</h5>
            <p-chart type="line" [data]="lineData" [options]="lineOptions"></p-chart>
        </div>



    </div>
    <div class="col-12 lg:col-6">
        <div class="card flex flex-column align-items-center">
            <h5 class="text-left w-full">Pass out Rate</h5>
            <p-chart type="pie" [data]="pieData" [options]="pieOptions"></p-chart>
        </div>
        <div class="card">
            <h5>Pass out Rate</h5>
            <p-chart type="bar" [data]="barData" [options]="barOptions"></p-chart>
        </div>



    </div>

</div>




<div class="card" *ngIf="loadCharts">
    <div class="flex justify-content-between align-items-center mb-5">
        <h5>Course Recommendation </h5>
        <div>
            <!-- <button pButton type="button" icon="pi pi-ellipsis-v" class="p-button-rounded p-button-text p-button-plain"
                (click)="menu.toggle($event)"></button> -->
            <!-- <p-menu #menu [popup]="true" [model]="items"></p-menu> -->
        </div>
    </div>
    <ul class="list-none p-0 m-0">
        <tr *ngFor="let course of courses">
            <!-- Add *ngIf condition to check if the course should be displayed -->
            <ng-container *ngIf="!isCourseExcluded(course)">

                <li class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">
                    <div>
                        <span class="text-900 font-medium mr-2 mb-1 md:mb-0">Name comes here</span>
                        <div class="mt-1 text-600">{{ course.name }}</div>
                    </div>
                    <div class="mt-2 md:mt-0 flex align-items-center">
                        <div class="surface-300 border-round overflow-hidden w-10rem lg:w-6rem"
                            [ngStyle]="{height: '8px'}">
                            <div class="bg-orange-500 h-full" [ngStyle]="{width: (course.progress ).toFixed(2)}"></div>
                        </div>
                        <span class="text-orange-500 ml-3 font-medium">{{ (course.progress ).toFixed(2) }}%</span>
                    </div>
                </li>
            </ng-container>
        </tr>
        <!-- <li class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">
            <div>
                <span class="text-900 font-medium mr-2 mb-1 md:mb-0">Space T-Shirt</span>
                <div class="mt-1 text-600">Clothing</div>
            </div>
            <div class="mt-2 md:mt-0 flex align-items-center">
                <div class="surface-300 border-round overflow-hidden w-10rem lg:w-6rem" [ngStyle]="{height: '8px'}">
                    <div class="bg-orange-500 h-full" [ngStyle]="{width: '50%'}"></div>
                </div>
                <span class="text-orange-500 ml-3 font-medium">%50</span>
            </div>
        </li>
        <li class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">
            <div>
                <span class="text-900 font-medium mr-2 mb-1 md:mb-0">Portal Sticker</span>
                <div class="mt-1 text-600">Accessories</div>
            </div>
            <div class="mt-2 md:mt-0 ml-0 md:ml-8 flex align-items-center">
                <div class="surface-300 border-round overflow-hidden w-10rem lg:w-6rem" [ngStyle]="{height: '8px'}">
                    <div class="bg-cyan-500 h-full" [ngStyle]="{width: '16%'}"></div>
                </div>
                <span class="text-cyan-500 ml-3 font-medium">%16</span>
            </div>
        </li>
        <li class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">
            <div>
                <span class="text-900 font-medium mr-2 mb-1 md:mb-0">Supernova Sticker</span>
                <div class="mt-1 text-600">Accessories</div>
            </div>
            <div class="mt-2 md:mt-0 ml-0 md:ml-8 flex align-items-center">
                <div class="surface-300 border-round overflow-hidden w-10rem lg:w-6rem" [ngStyle]="{height: '8px'}">
                    <div class="bg-pink-500 h-full" [ngStyle]="{width: '67%'}"></div>
                </div>
                <span class="text-pink-500 ml-3 font-medium">%67</span>
            </div>
        </li>
        <li class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">
            <div>
                <span class="text-900 font-medium mr-2 mb-1 md:mb-0">Wonders Notebook</span>
                <div class="mt-1 text-600">Office</div>
            </div>
            <div class="mt-2 md:mt-0 ml-0 md:ml-8 flex align-items-center">
                <div class="surface-300 border-round overflow-hidden w-10rem lg:w-6rem" [ngStyle]="{height: '8px'}">
                    <div class="bg-green-500 h-full" [ngStyle]="{width: '35%'}"></div>
                </div>
                <span class="text-green-500 ml-3 font-medium">%35</span>
            </div>
        </li>
        <li class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">
            <div>
                <span class="text-900 font-medium mr-2 mb-1 md:mb-0">Mat Black Case</span>
                <div class="mt-1 text-600">Accessories</div>
            </div>
            <div class="mt-2 md:mt-0 ml-0 md:ml-8 flex align-items-center">
                <div class="surface-300 border-round overflow-hidden w-10rem lg:w-6rem" [ngStyle]="{height: '8px'}">
                    <div class="bg-purple-500 h-full" [ngStyle]="{width: '75%'}"></div>
                </div>
                <span class="text-purple-500 ml-3 font-medium">%75</span>
            </div>
        </li>
        <li class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">
            <div>
                <span class="text-900 font-medium mr-2 mb-1 md:mb-0">Robots T-Shirt</span>
                <div class="mt-1 text-600">Clothing</div>
            </div>
            <div class="mt-2 md:mt-0 ml-0 md:ml-8 flex align-items-center">
                <div class="surface-300 border-round overflow-hidden w-10rem lg:w-6rem" [ngStyle]="{height: '8px'}">
                    <div class="bg-teal-500 h-full" [ngStyle]="{width: '40%'}"></div>
                </div>
                <span class="text-teal-500 ml-3 font-medium">%40</span>
            </div>
        </li> -->
    </ul>
</div>
<div *ngIf="loading">
    <p-progressSpinner
        [style]="{ width: '100px', height: '100px', position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }"
        strokeWidth="4" fill="rgba(255, 255, 255, 0.5)"></p-progressSpinner>

</div>